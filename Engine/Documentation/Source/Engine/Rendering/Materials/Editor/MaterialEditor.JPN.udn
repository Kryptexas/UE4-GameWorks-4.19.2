INTSourceChangelist:2523128
Availability:Public
Title:マテリアル エディタのリファレンス
Crumbs: %ROOT%, Engine, Engine/Rendering/Materials
Description:シェーダー作成のためにマテリアル エディタを使用するためのガイド

[VAR:Topic]
[OBJECT:Topic]
	[PARAM:image]
		![%Engine/Rendering/Materials/:title%](Engine/Rendering/Materials_topic.png)
	[/PARAM]
	[PARAM:icon]
		![](%ROOT%/texture_icon.png)(convert:false)
	[/PARAM]
	[PARAM:title]
		マテリアル エディタ
	[/PARAM]
	[PARAM:description]
		シェーダー作成のためにマテリアル エディタを使用するためのガイド
	[/PARAM]
	[PARAM:path]
		[RELATIVE:Engine/Rendering/Materials/Editor]
	[/PARAM]
[/OBJECT]
[/VAR]

[TOC(start:2)]


## 概要

[EXCERPT:Intro]
**マテリアル エディタ** には、ノードベースのグラフ インターフェイスを使用してジオメトリに適用するシェーダーを作成する機能があります。
[/EXCERPT:Intro]

このドキュメントではアンリアル エディタのマテリアル エディタの使用法を説明します。様々なマテリアル式の説明に関しては、 
[マテリアルの概要](Engine/Rendering/Materials/ExpressionReference) を参照してください。

[PUBLISH:Licensee]
新しいマテリアル式の作成方法の説明に関しては、[](Programming/Rendering/MaterialExpressions) を参照してください。
[/PUBLISH:Licensee]

マテリアル エディタ UI に関する詳細は、[](Engine/Rendering/Materials\Editor\Interface) を参照してください。

## マテリアル エディタを開く

マテリアル エディタを開くには、いずれかのマテリアル アセットを **ダブルクリック**、もしくは  
**コンテンツ ブラウザ** 内のマテリアル アセットのコンテキスト メニューを **右クリック** します。いずれかの操作で、マテリアル エディタで特定のマテリアルが編集のために開きます。 

マテリアル エディタは、**コンテンツ ブラウザ** で新しいマテリアルを作成する度に開きます。これは、以下のいずれかの方法で行われます。 
**右クリック** してコンテキスト メニューから新規マテリアルを選択する、またはコンテンツ ブラウザの上部にある **[新規]** ボタンをクリックして、 
ドロップダウン リストから、**[マテリアル]** を選択します。



##マテリアル式のネットワークにコメントを入れる

コメントはマテリアルが何を行っているかを文書化する素晴らしい方法です。複雑なマテリアル グラフ内で何が行われているかについて、 
自分自身と他の人がより簡単に理解できるようにするものです。マテリアルにコメントを入れる方法は以下の 2 通りあります。 
各ノードの **Desc** プロパティでテキストを追加するか、コメント オブジェクトのフレーム内にノードを配置します。

### Desc プロパティを使用する

各マテリアル式ノードには、**[Desc]**プロパティがあり、**[詳細]** パネルで利用できます。このプロパティは、 
特定のノードが何を行っているかについての明確な説明をアーティストが追加できる手段として存在します。**[詳細]** パネルで **Desc** プロパティ入力フィールドにテキストを追加します。 
続いて、現在のノードのすぐ上にテキストがバブル表示されます。 

![descpropertycomment.png](descpropertycomment.png)

###コメントを使用する

コメントは、マテリアル ネットワークのある部分が何を行っているかについての説明メモをつくるもう 1 つの方法です。コメントを作成することで、 
複数ノードのグループ周辺でフレームを伸縮し、 
**[Desc]**プロパティを使用して一回に 1 つのノードを説明するのではなく、ネットワークのセクション全体を説明する最適な方法になります。 

グラフにマウスをかざしながら、**C** キーを押しすことで、いつでもコメントを作成できます。また、グラフのブランク エリアで **右クリック** し、 
**新規コメント** を選択することでもコメントを作成できます。

コメント自体は、コメントボックスの上部にそってテキストのバナーとして表示されます。このテキストは、 
グラフのズームレベルに合わせてスケーリングされません。そのため、遠く離れてズームされても、その説明を読むことができます。

![Comments.png](Comments.png)

コメント フレーム内のノードは、グループ コメント テキスト上でドラッグして移動できます。フレームは、 
コメントボックスの端をドラッグするとサイズ調整できます。グループ コメント内のノードは、フレームと共に移動します。 
そのため、既存のフレームに新しいノードを含むようにリサイズできます。

コメントの名前を変更するには、コメントを選択し、[プロパティ] ウィンドウを使用して **Text** プロパティを修正します。

(#LiveNodesAndLiveUpdate)



## ライブ ノードとライブ アップデート

![toolbar_live_nodes.png](toolbar_live_nodes.png)![toolbar_live_update.png](toolbar_live_update.png)

ネットワークに変更を加える場合、各変更のフィードバックをリアルタイムで直ちに得ることが有用な場合があります。マテリアル エディタでは、 
グラフに次の 2 つの機能があり、ユーザーのネットワークについて即時にフィードバックします。その機能は、ライブ ノードとライブ アップデートです。

こうした 2 つのオプションの違いは、最初はわかりずらいかもしれません。ライブ ノードは、たとえば Panner などの式によって 
リアルタイムで再生するためにノードが行う一定の変化を可能にします。 

これに対してライブ アップデートでは、変更が加えられるたびにネットワーク内の各ノードがそのシェーダーをリコンパイルします。 
こうした変更には、新規ノードの作成、ノードの削除、ノードの接続、ノードの非接続、プロパティの変更などがあります。 
ノードに対して描かれたマテリアル プレビューが最新のものになるように、このリコンパイルが必要です。しかし、こうした中間シェーダーのリコンパイルは、 
非常に時間がかかる場合があります。特に、マテリアルに多くのノードが含まれる場合は時間がかかります。変更するたびに待ち時間が長ければ、 
ライブ アップデート オプションを非アクティブにしたい場合があるかもしれません。

たとえば、以下の例を考えてみます。 
ベクター パラメータによって乗算処理される素晴らしいロケットの外部構造のパニング テクスチャで、カラーを供給しています。

![LiveNodesLiveUpdate.png](LiveNodesLiveUpdate.png)

* この例では、*Live Nodes* をアクティベートすると、そのノードのプレビュー サムネイルでロケットのテクスチャがリアルタイムでパンします。 
*Live Nodes* を非アクティブにすると、Panner が移動を指示してもテクスチャは静止したまま残ります。しかし、 
グラフ領域周辺でマウスを動かすと小さな更新に気づくかもしれません。
* シアンから紫にカラーを変更すると、*Live Update* がアクティブな場合のみその変更がわかります。*Live Update* がオフの場合、 
カラー プロパティが実際に変更されても、ノード上でカラーの変更は不可視になります。


_Live Update_ が非アクティブな場合、「スペースバー」を押してすべてのプレビューを手動で更新できます。以下の方法で高速イタレーションを実現できます。 
すなわち、_Live Update_ を無効にし、変更を表示したい場合にいつでも「スペースバー」を押します。


(#CompilerErrors)



##コンパイラ エラー

マテリアル ネットワークに変更が加えられるたびに、マテリアルをコンパイルしなければなりません。ネットワーク内の式の必須インプットが、 
コネクションを持たないか、誤ったタイプのデータを渡されると、コンパイラ エラーが発生します。こうしたエラーは 
[グラフパネル](Engine/Rendering/Materials/Editor/Interface/#[グラフ]パネル ) に表示されます。

![error_message.png](error_message.png)

コンパイラ エラーは、エラーが発生した式のタイプと説明についての情報を提供することで、 
問題が存在すること、またそれが何であるかを知らせてくれます。さらに、エラーを含むノードは **グラフ** タブで赤色でハイライトされます。 
これにより、エラーを含むノードを簡単に識別し、必要な修正を加えることができます。

![error_highlight.png](error_highlight.png)

[REGION:warning]
コンパイラ エラーは統計情報が有効な場合に限り、可視になります。**Toolbar** タブで、**Stats** ボタン ![toolbar_stats.png](toolbar_stats.png)(w:21 h:30) を必ずチェックしてください。
[/REGION]

(#ExpressionSearch)



##マテリアル式の検索

マテリアル エディタの検索機能では、マテリアル ネットワーク内のノード (コメントも含む) を迅速に見つけることができます。 
説明に特定のテキストや各タイプの式に固有のある特定のプロパティを含む 
ノードを見つけることができます。これにより、ノードを特定するキーワードを追加し、後でそこにジャンプできるようになります。 
行き当たりばったりにネットワークを隅から隅まで捜すことはなくなります。

検索ボックスにキーワード全体またはキーワードの一部を入力すると、 
**[グラフ]** パネルにある式のプロパティに対して検索が実行されます。現在選択中の結果がビューに表示され、ハイライトされます。

![search_highlight.png](search_highlight.png)

[REGION:note]
この検索では、大文字・小文字は区別されません。
[/REGION]

検索は以下のプロパティ値に対して実行されます。

| **式のタイプ** | **検索されるプロパティ** |
| --- | --- |
| _All_ | Desc |
| _Texture Sample_ | Texture |
| _Parameters_ | ParamName |
| _Comment_ | Text |
| _FontSample_ | Font |
| _MaterialFunctionCall_ | MaterialFunction |

検索で、`NAME=` スイッチを使用することで、特定タイプの式に対する検索を行うことができます。たとえば、 
すべてのテクスチャ サンプリングを見つけるには、以下の検索を使用します。
    
    NAME=texture

**[検索]** パネルで新しい検索結果をクリックすると、まだ表示されていない場合は、 
**[グラフ]** タブに表示されます。

検索をクリアするには、 ![search_clear_button.png](search_clear_button.png) ボタンを押します。

 




