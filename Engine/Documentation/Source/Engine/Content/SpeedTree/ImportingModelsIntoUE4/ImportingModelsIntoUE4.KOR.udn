INTSourceChangelist:2602100
Availability:Public
Title:UE4 에 모델 임포트하기
Crumbs:%ROOT%, Engine, Engine/Content, Engine/Content/Speedtree
Description:SpeedTree 모델을 언리얼 엔진 4 에 임포트하는 프로세스 입니다.

[REGION:note]
이 방법은 언리얼 엔진 4.3 에 적용 가능합니다. SpeedTree 는 그 전 버전의 언리얼 엔진에서는 작동하지 않습니다.
[/REGION]

UE4 버전 모델러에서 모델을 저장(하거나 프리미엄 라이선시의 경우 컴파일러를 사용)할 때, 모델을 나타내는 .srt 파일이 생길 것입니다. 이 파일을 UE4 에디터에 임포트하게 됩니다. SpeedTree 모델은 정상적인 스태틱 메시 오브젝트로 임포트됩니다. .srt 파일이 없는 경우 [여기를](Engine/Content/SpeedTree/CreatingModelsForUE4) 클릭하세요.

다른 애셋과 마찬가지로 .srt 파일을 임포트합니다. 모델용 폴더를 만들어 결과물 애셋을 아래 그림과 같이 체계적으로 정리하는 것도 좋습니다. "임포트" 를 눌러 모델을 임포트합니다.

![](ue4_import.jpg)

임포트 대화창에 임포트 도중 제공되는 옵션이 여러가지 있습니다. 먼저 3D 지오메트리인지, 빌보드인지, 아니면 둘 다인지 선택합니다. 클로즈업 상태로만 사용되는 "영웅" 나무라던가, 최저 LOD 에서 빌보드로 (다이내믹 섀도우가 평평한 빌보드 지오메트리에 떨어지는 경우가 가끔 있기 때문에) 문제가 있다던가 하면, 빌보드 메시를 무시하도록 선택할 수 있습니다. 아니면, 나무가 멀리서만 사용되어 3D 지오메트리 로드 비용을 절약하고자 한다면, 빌보드만 임포트할 수도 있습니다. 빌보드 메시만 임포트해도 UE4 의 폴리지 레이어와 사용 가능한 스태틱 메시를 만들 수 있습니다.

임포트 대화창에서 디테일, 스페큘러, 3D 트리에서 사용되는 메시의 가지 이음새 블렌딩을 포함하도록 선택할 수도 있습니다. 머티리얼에 버텍스 처리를 추가하여, 바람, 빌보드 처리, 나무에서 버텍스별로 계산되는 기타 이펙트 처리용 특수 SpeedTree 노드를 머티리얼에 넣는 것도 가능합니다.

마지막으로 SpeedTree Modeler 에서 구성한 콜리전 프리미티브를 새로운 SpeedTree 메시의 콜리전 정보로 임포트할 수 있습니다.

![](ue4_import2.jpg)

임포트 프로세스가 완료되면, 다음과 (아래 그림과) 같은 애셋이 새로 생길 것입니다:

* 모델을 나타내는 스태틱 메시. 다른 스태틱 메시와 마찬가지로 이 애셋의 (LOD 범위, 라이트맵 해상도 등) 옵션을 수정할 수 있습니다.
* 모델에 있는 각 아틀라스, 빌보드 아틀라스, 타일링 텍스처에 대한 텍스처 애셋.
* 모델의 각 컴포넌트(드로 콜)에 대한 머티리얼 애셋.

![](ue4_assets.jpg)

특히나 중요한 부분은 머티리얼입니다. 여기서 주목할 부분은, **임포터에 의해 생성된 머티리얼 편집은 완전 자유** 라는 점입니다. 이 머티리얼은 기본적인 부분이 갖춰져 있지만, 씬의 요구에 맞게끔 수정 및 개선시킬 수 있습니다.

"World Position Offest" 에 (아래 그림처럼) 연결된 SpeedTree 노드는 유일한 SpeedTree 전용 컴포는트입니다. 연결을 끊으면, 그 머티리얼로 렌더링되는 모든 것은 스태틱 메시와 동일할 것입니다. 연결된 상태라면, SpeedTree 바람 및 부드러운 LOD 전환 효과를 얻을 수 있습니다. SpeedTree 노드에 사용할 수 있는 옵션은 여러가지 있습니다:

* **Geometry Type** - 렌더링되는 지오메트리 유형을 조절할 수 있는 세팅으로, 자동 설정됩니다. 이 값은 거의 손 댈 필요가 없습니다.
* **Wind Type** - 머티리얼에 적용되는 바람 셰이더의 복잡도/퀄리티를 조절하는 프로퍼티입니다. 이 값은 임포트시 모델러에 설정한 값에 일치됩니다. 버텍스 처리 퍼포먼스가 문제라면, 이 옵션으로 SpeedTree 오브젝트의 버텍스 부하를 빠르게 줄일 수 있습니다.
* **LOD Type** - SpeedTree 모델의 LOD 상태 전환을 부드럽게 할 것인지, 표준 스태틱 메시처럼 튀어보이게 할 것인지 조절할 수 있습니다.
* **Billboard Threshold** - 빌보드 모델링 방식은 면으로 된 구역으로, 각기 다른 빌보드 이미지가 적용되어 있습니다. 이 프로퍼티로 각 면을 보는 각도에 따라 사라지는 속도를 조절할 수 있습니다.

(아래 그림에서도 보이는) **SpeedTree Color Variation** 노드는 모델의 위치/방향에 따라 머티리얼의 색을 다변화시킬 수 있습니다. 별도의 트리 모델을 여러 개 추가하지 않고도 미묘한 색 변화 효과를 낼 수 있습니다.

[REGION:lightbox]
[![](ue4_material.jpg)(w:920)](ue4_material.jpg)
[/REGION]