INTSourceChangelist:2602509
Availability: Public
Title:볼륨 사용 안내서
Crumbs:%ROOT%, Engine, Engine/Actors
Description:레벨의 작동방식이나 구성법 강화를 위한 볼륨 배치 및 작업방식 안내서입니다.

[VAR:playlistnav]
[OBJECT:PlaylistNavigation]
	[PARAMLITERAL:id]
		LevelDesign_Beginner
	[/PARAMLITERAL]
	[PARAM:previous]
		[예전 주제](Engine/Actors/Brushes "%Engine/Actors/Brushes:title%")
	[/PARAM]
	[PARAM:next]
		[다음 주제](Engine/Actors/Triggers "%Engine/Actors/Triggers:title%")
	[/PARAM]
	[PARAM:home]
		[](Tracks/LevelDesign/Beginner)
		%Tracks/LevelDesign/Beginner:menu%
	[/PARAM]
[/OBJECT]
[/VAR]


%playlistnav%


[TOC(start:2 end:2)]


볼륨은 레벨에 있는 3차원 공간으로, 저마다 특정한 목적이 있으며, 그 목적은 다음과 같습니다:

* 플레이어에게 대미지 유발
* 물리 법칙의 변화, 이를테면 일정 볼륨 공간 안에서는 중력을 감소시키거나 부유상태로 전환
* 플레이어의 볼륨 진입 금지, 즉 충돌 표면 역할
* 레벨의 라이팅 또는 표시여부 계산 방식 변경

그 외에도 다양한 용도의 볼륨이 여러가지 있습니다. 여기서는 레벨의 볼륨을 생성하는 데모를 선보이고, 언리얼 엔진 4 에서 사용할 수 있는 볼륨 유형에 대해 논해보겠습니다.

### 레벨 디자인시 볼륨 잘 사용하기

볼륨에 관해서 초보 레벨 디자이너에게 너무도 중요한 한 가지 사항은, 레벨에 볼륨을 '잘' 사용해야 한다는 것입니다. 핵심은 두 가지로 요약해 볼 수 있습니다:

1. 볼륨은 게임플레이 도중엔 투명하다! 플레이어가 볼 수 없습니다.
1. 1 번의 이유로 인해, **볼륨 자체로 어떤 효과를 내기 위해 사용할 일은 거의 없습니다.**

볼륨은 투명하기 때문에, 레벨 디자이너가 힌트를 주지 않는 이상 플레이어는 그 진입 여부를 알 수 없습니다. 볼륨은 보통 조금 더 큰 커다란 이펙트의 구성요소로 생각해 볼 수 있습니다. 이해를 돕기 위한 시각적 역할을 하는 다른 요소와 함께 이펙트를 완성시키는 것입니다.

Pain Causing (고통 유발) 볼륨을 예로 들어봅시다. 레벨 한가운데 다음과 같이 앉아 있다면...

[VAR:VolumeDemoSize]
h:301
[/VAR]

[REGION:imagetable]
|![](PainCausingVolume_NoEffect.png)(%VolumeDemoSize%)|![](PainCausingVolume_NoEffect_NoVolume.png)(%VolumeDemoSize%)|
|:-----------:|:----------:|
|볼륨 배치|플레이어 화면|
[/REGION]

거기 들어갔다고 왜 갑자기 아프기 시작했는지 플레이어는 알지 못할 것입니다. 그러나 볼륨 한가운데 화염 파티클 이펙트가 있었다면...


[REGION:imagetable]
|![](PainCausingVolume_Effect.png)(h:343)|![](PainCausingVolume_Effect_NoVolume.png)(h:343)|
|:-----------:|:----------:|
|볼륨 배치|플레이어 화면|
[/REGION]

이제 저기 서있으면 왜 아픈지, 플레이어가 이해할 수 있습니다!



## 볼륨 생성하기

볼륨 생성은 **모드** 메뉴의 **볼륨** 탭에서 볼륨을 선택한 다음 레벨 뷰포트에 끌어놓으면 됩니다.

![](creatingVolumes.png)

볼륨을 레벨에 배치한 다음에는, 원하는 대로 볼륨의 크기와 위치를 조정하면 됩니다.

## 볼륨 유형


### Blocking Volume

블로킹 볼륨은 오브젝트의 통과를 막기 위한 콜리전 모양 역할을 합니다. (아래 그림과 같이) 볼륨의 콜리전 채널 조절을 통해 통과시킬 오브젝트 유형을 결정할 수도 있고, 볼륨을 통과할 때 오버랩 이벤트를 생성하도록 할 수도 있습니다. 자세한 것은 [콜리전 문서](Engine/Physics\Collision) 를 참고해 주시기 바랍니다.

![](blocking_volume_details.png)

블로킹 볼륨은 스태틱 메시의 콜리전 표면 대신 사용 가능합니다. 구조물의 벽이 특히 그러한데, 이런 식으로 사용하면 메시 콜리전 표면에 비해 보통 몇 가지 장점이 있습니다. 첫째, 더욱 복잡한 콜리전 모델보다 계산하기가 쉽습니다. 둘째, 볼륨이란 것의 속성상 그 안에 어떤 오브젝트가 있음을 알기 위함이므로, 고속 물리 오브젝트와의 충돌시 블로킹 볼륨이 더욱 유용하게 쓰일 수 있습니다.


### Camera Blocking Volume

카메라 블로킹 볼륨은 카메라 액터가 통과하지 못하하는 공간을 정의하는 데 사용된다는 점에서 블로킹 볼륨과 속성상 유사합니다. 삼인칭 시점에서의 예제를 들 수 있는데, 플레이어의 카메라를 플레이 공간에 한정시켜 카메라를 월드 바깥에서 회전되지 않도록 할 때 사용할 수 있습니다.

카메라 블로킹 볼륨의 프로퍼티 조정은 블로킹 볼륨과 마찬가지로 콜리전 채널 조정을 통해 가능합니다.


### Trigger Volume 

트리거 볼륨은 플레이어나 기타 오브젝트가 볼륨에 드나들 때 이벤트를 유발시키는 방편으로 사용됩니다. 레벨 블루프린트와 간단히 사용하여 이벤트 및 게임플레이 시나리오나 함수성을 별도의 블루프린트 추가 없이 테스트할 수 있습니다.

예를 들어 레벨에 TriggerVolume 을 배치한 다음 레벨 블루프린트에서 오버랩 이벤트를 만들어 그 볼륨에 겹치면 사운드 큐를 재생하고, 시네마틱을 시작하거나 심지어 문을 열 수도 있습니다.


### Nav Mesh Bounds Volume

내비 메시 바운드 볼륨은 레벨의 내비 메시 계산 부분을 조절하는 데 사용됩니다. 내비 메시는 레벨 영역 내 돌아다닐 수 있는 경로를 계산하는 데 사용됩니다.

볼륨 내 걸어다니기 적합한 각도의 모든 표면상에 내비 메시를 구성합니다. 필요하다면 얼마든지 겹쳐 원하는 내비 메시를 만들 수 있습니다.

내비 메시 바운드 볼륨을 사용하기 위해서는, 하나(이상)의 볼륨으로 레벨 내 돌아다닐 수 있는 영역을 둘러싸 주기만 하면 됩니다. 그러면 내비 메시는 자동으로 빌드됩니다.

[REGION:tip]
언제든 뷰포트에서 **P** 키를 누르면 내비 메시를 시각화시켜 볼 수 있습니다.
[/REGION]

자세한 설명과 예제는 콘텐츠 예제와 [내비 메시 문서](Resources\ContentExamples\NavMesh) 를 참고해 주시기 바랍니다.



### Physics Volume

피직스 볼륨은 캐릭터와 다른 물리 오브젝트에 영향을 끼치는 물리 설정을 조작할 수 있는 볼륨입니다. 플레이어가 헤엄쳐야 하는 수중 환경을 생성하는 데 자주 쓰입니다. 하지만 무중력 또는 저중력 상태를 만들거나, 통과하는 오브젝트의 종단 속도에 영향을 끼치는 볼륨을 만드는 데도 간단히 사용할 수 있습니다.

이 볼륨용으로 고안된 프로퍼티가 몇 가지 있으며, 아래 그림과 같이 **디테일** 패널에서 조정 가능합니다.

![](killZdetails.png)

|프로퍼티| 설명 |
| ------- | ------------ |
| Terminal Velocity | 종단 속도 - 낙하시 CharacterMovement 를 사용하여 Pawn 의 종단 속도를 결정합니다. |
| Priority | 우선권 - 다수의 PhysicsVolume 이 겹칠 때의 우선권을 결정합니다. |
| Fluid Friction | 유체 마찰 - CharacterMovement 를 사용하는 Pawn 이 볼륨을 지나갈 때 볼륨에 적용시킬 마찰력의 양을 결정합니다. <br> 값이 클 수록 볼륨을 통과하기가 어렵게 느껴집니다. |
| Water Volume | 수량 - 볼륨에 물과 같은 유체가 들어있는지를 나타냅니다. |
| Physics on Contact | 접촉시 물리 - 액터를 건드리면 볼륨에 영향을 받을지를 결정합니다 (기본적으로 액터는 볼륨 안에 있어야 영향을 받을 수 있습니다). |


### Pain Causing Volume

피해 유발 볼륨은 사실 플레이어에게 대미지를 입히는 기능이 추가된 피직스 볼륨입니다. 레벨에 용암 구덩이라던가, 유독 가스 구름이라든가, 플레이어가 가지 말아야 할 곳이 있는 경우 좋습니다.

Physics Volume 에서 할당 가능한 프로퍼티 이외에 Pain Causing Volume 에도 다음과 같은 프로퍼티 세트가 있습니다.

![](paincausingvolume.png)

|프로퍼티| 설명 |
| ------- | ------------ |
| Pain Causing | 피해 유발 - 볼륨이 현재 대미지를 입힐지 말지 입니다. |
| Damage Per Sec | 초당 대미지 - Pain Causing 이 켜져 있을 때 볼륨에 있는 액터에게 입히는 초당 대미지입니다. |
| Damage Type | 대미지 유형 - 액터에 가해지는 대미지 유형을 나타냅니다. |
| Pain Interval | Pain Causing 이 켜졌을 때 대미지가 적용되는 초단위 간격입니다. |
| Entry Pain | 진입 피해 - Pain Causing 이 켜진 볼륨에 들어설 때 Pain Interval 에 따른 지속 대미지에 추가로 즉시 적용할 대미지를 나타냅니다. |



### Kill Z Volume

**Kill Z Volume** 또는 "Kill-Brush" 는 (플레이어를 포함해서) 볼륨에 들어서는 액터를 사실상 소멸시킵니다. 이러한 볼륨 유형의 사용 예는, 절벽이나 높은 턱 아래 플레이어나 액터가 떨어지면 바로 죽여버리는 용도로 설치해 두면 됩니다.



### Level Streaming Volume

레벨 스트리밍 볼륨은 레벨 스트리밍 프로세스를 보조하는 데 사용됩니다. 레벨 캡슐화는 물론, 플레이어의 볼륨 출입에 따라 메모리에서의 레벨 스트림 인/아웃 시기 제어를 간단한 방법으로 처리할 수 있습니다. 

아래 그림처럼 **디테일** 패널에서 프로퍼티를 조절하여 Level Streaming Volume 의 레벨 스트리밍 처리 방식을 조절할 수 있습니다.

![](levelstreamingvolume.png)

|프로퍼티| 설명 |
| ------- | ------------ |
| Streaming Levels | 스트리밍 레벨 - 볼륨에 영향받는 레벨을 표시합니다. |
| Editor Pre Vis Only | 에디터 미리보기 전용 - 스트리밍 볼륨을 에디터 스트리밍 레벨 미리보기 전용으로만 사용할지 나타냅니다. |
| Disabled | 꺼짐 - True 면 이 스트리밍 볼륨은 스트리밍 볼륨 코드에 무시됩니다. <br> 또한 레벨에 할당된 상태를 유지하면서 Level Streaming Volume 을 끄거나, 블루프린트와 볼륨 스트리밍 사이의 레벨 스트리밍 제어를 토글하는 데도 사용됩니다. |
| Streaming Usage | 스트리밍 용도 - 볼륨의 용도를 로딩만, 로딩과 표시여부, 표시여부만 (로드시 블록) 제어하는데 사용할 것인지를 나타냅니다. |


### Cull Distance Volume

컬 디스턴스 볼륨(Cull Distance Volume)은 카메라와의 거리에 따라 일정 크기 이하의 오브젝트는 컬링(, 다른 말로 화면에 그릴 때 생략)하는 데 쓰이는 일종의 최적화 도구입니다. 일정한 크기의 오브젝트는 그리지 않는 식으로 씬을 최적화시키는 데 도움이 되며, 그 크기는 바운딩 박스 중 치수가 가장 긴 것으로 계산합니다. 

컬 디스턴스 볼륨 셋업은 아래 디테일 패널에 표시되는 **Cull Distances** (컬 디스턴스) 프로퍼티에 따라 달라집니다.

![](CullDistancesProperty.png)

위 그림의 프로퍼티에서 정의되는 작동방식은 다음과 같습니다:

* 볼륨 내 오브젝트 중 크기가 50 유닛 미만인 것은 카메라와의 거리가 500 유닛 이상일 때 컬링됩(사라집)니다.
* 볼륨 내 오브젝트 중 크기가 120 유닛 미만인 것은 카메라와의 거리가 1000 유닛 이상일 때 컬링됩(사라집)니다.
* 볼륨 내 오브젝트 중 크기가 300 유닛 미만인 것은 **컬링되지 않습니다**. 여기서 0 은 무한으로 간주되기에, 카메라가 그만큼 멀어질 수 없습니다.

셋업은 Cull Distances 배열에 새 항목을 추가, 즉 ![](button_Plus.png) 버튼을 클릭하는 것으로 시작합니다. 그 다음, 오브젝트의 크기, 그리고 해당 크기 이하의 오브젝트가 컬링되었으면 하는 위치를 입력합니다. 프로퍼티를 입력하는 데 있어 정해진 순서는 없습니다.

### Audio Volume
오디오 볼륨은 레벨에 다양한 사운드 제어 및 적용은 물론 볼륨 내부와 외부에서 들리는 소리를 제어할 수 있도록 구역화된 오디오 존 생성을 위한 방편이 됩니다. 오디오 볼륨을 사용하면 자체 내 Ambient Zone 세팅 제어 및 페이드를 통한 오디오 페이드 가능합니다.

이 볼륨의 **디테일** 패널에서 여러가지 프로퍼티를 조절하여 아래와 같은 이펙트에 대한 세밀한 제어가 가능합니다.

![](audiovolume.png)

|프로퍼티| 설명 |
| ------- | ------------ |
| Priority | 우선권 - 볼륨이 겹치는 경우 우선권이 가장 높은 것이 사용됩니다. 둘 이상의 볼륨에 우선권이 같은 경우 순서는 미정입니다. |
| Apply Reverb | 리버브 적용 - 리버브 세팅을 사용할지를 나타냅니다. |
| Reverb Effect | 리버브 이펙트 - 볼륨에 사용할 리버브 애셋입니다. |
| Volume | 볼륨 - 리버브 이펙트의 전체적인 볼륨 크기입니다. |
| Fade Time | 페이드 시간 - 현재 리버브 세팅에서 볼륨 세팅으로 페이드하는 데 걸리는 (초 단위) 시간입니다. |
| Enabled | 켜짐 - 이 볼륨이 현재 켜져있어 사운드에 영향을 끼칠 수 있는지를 나타냅니다. |

'앰비언트 존'은 연관된 오디오 볼륨 안에 위치한 사운드 액터가 플레이어 위치에 따라 어떻게 변경되는지를 정의합니다. 앰비언트 존에 대한 세팅은 **디테일** 패널에서도 조절할 수 있습니다.

|프로퍼티| 설명 |
| ------- | ------------ |
| Exterior Volume | 외부 볼륨 - 볼륨 안에 플레이어가 있을 때의 외부 사운드 최종 볼륨입니다. |
| Exterior Time | 외부 시간 - 새로운 외부 볼륨으로 페이드하는 데 걸리는 초 단위 시간입니다. |
| Exterior LPF | 외부 LPF - 내부에 있을 때 외부 사운드에 적용할 로우패스 필터 배수입니다 (1.0 은 최대 LPF 를 적용합니다). |
| Exterior LPFTime | 외부 LPF 시간 - 새로운 로우 패스 필터 레벨로 페이드하는 데 걸리는 초 단위 시간입니다. |
| Interior Volume | 내부 볼륨 - 플레이어가 볼륨 밖에 있을 때 내부 사운드의 최종 볼륨입니다. |
| Interior Time | 내부 시간 - 새로운 내부 볼륨으로 페이드하는 데 걸리는 초 단위 시간입니다. |
| Interior LPF | 내부 LPF - 밖에 있을 때 내부 사운드에 적용되는 로우패스 필더 배수입니다 (1.0 이면 최대 LPF 를 적용합니다). |
| Interior LPFTime | 내부 LPF 시간 - 새로운 로우패스 필터 레벨로 페이드하는 데 걸리는 초 단위 시간입니다. |

<!--For more information on Ambient Zones, please refer to the following documentation: [Ambient Zones Documentation](Engine/Audio/AmbientZones).-->

### Post Process Volume

포스트 프로세스 볼륨은 그 공간 안에 있는 카메라에 포스트 프로세스 세팅을 적용하는 것으로, 이 세팅은 **디테일** 패널에서 프로퍼티를 조절하여 덮어쓸 수 있습니다.

포스트 프로세싱 관련 상세 정보는 [포스트 프로세싱 문서](Engine/Rendering/PostProcessEffects) 를 참고하세요.
 

### Lightmass Importance Volume

라이트매스 임포턴스 볼륨은 라이트매스 계산을 집중시키는 데 사용됩니다. 라이트매스는 언리얼 엔진 4 에서 사용되는 글로벌 일루미네이션 시스템으로, 라이팅을 미리계산하는 방식입니다. 레벨에 미리계산된 라이트를 생성하는 데 필요한 처리량을 최소화, 즉 최적화시키기 위해서는, 라이트매스 임포턴스 볼륨을 사용해서 레벨 지오메트리의 특정 영역을 감싸줘야 합니다. 그러면 라이트매스는 해당 영역 안쪽만 계산하며, 그 외 부분은 생략합니다.

라이트매스와 라이트매스 임포턴스 볼륨 관련 상세 정보는 [라이트매스 문서](Engine/Rendering/LightingAndShadows/Lightmass) 를 참고해 주시기 바랍니다.


### Lightmass Character Indirect Detail Volume
라이트매스 캐릭터 간접 디테일 볼륨은 라이트매스 임포턴스 볼륨과 비슷하게 간접광 샘플을 생성하지만, 땅 위의 플레이어 높이에서만이 아니라 전체 볼륨 내부에 대해 생성합니다. 이 볼륨은 간접광이 위아래로 올바르게 나와야 하는 엘리베이터에 주로 사용됩니다.


###  Precomputed Visibility Volume
프리컴퓨티드 비저빌리티 볼륨은 주로 퍼포먼스 최적화에 사용됩니다. 이 볼륨은 액터의 월드상 위치에 대한 표시여부를 저장하며, 플레이어가 접근할 수 있는 영역에만 배치해야 합니다.


### Precomputed Visibility Override Volume
프리컴퓨터드 비저빌리티 오버라이드 볼륨은 프리컴퓨티드 비저빌리티 볼륨의 자동 생성 결과가 마음에 들지 않을 때 액터의 비저빌리티를 수동으로 덮어쓸 수 있습니다. 퍼포먼스 최적화에도 사용되며, 플레이어가 접근할 수 있는 영역에만 배치해야 합니다.
 

